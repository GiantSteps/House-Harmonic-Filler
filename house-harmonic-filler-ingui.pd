#N struct beat float x;
#N struct line float pos float color;
#N canvas 6 23 814 486 10;
#X declare -stdpath unauthorized -path abs -stdpath pd-symbolic;
#N canvas 616 39 654 491 patch 1;
#N canvas 100 23 595 685 adt 0;
#X obj 73 29 r density;
#X obj 73 207 populate_rhythm;
#X obj 160 29 r end-analysis;
#X obj 160 52 tabdump master-pattern;
#X obj 163 245 tabset new-onsets;
#X obj 44 276 until;
#X msg 92 275 0;
#X obj 44 305 f 0;
#X obj 74 305 + 1;
#X obj 73 228 t b b l;
#X obj 290 373 tabread new-onsets;
#X obj 59 591 tabwrite slave-pattern;
#X obj 160 127 list-apply max 0;
#X obj 124 297 s slave-pattern;
#X obj 187 172 sum;
#X obj 160 149 t l l;
#X msg 44 254 32;
#X msg 124 275 const 0;
#X obj 73 90 f;
#X obj 43 52 r update-density;
#X obj 59 373 tabread master-pattern;
#X obj 59 400 expr if($f2==1 \, 1 \, if($f1==1 \, -1 \, $f1));
#X obj 44 327 t f f f f f;
#X obj 418 370 tabread legato-pattern;
#X obj 80 446 > 32;
#X obj 59 541 expr if($f2==-1 \, $f1 \, if($f1==1 \, 1 \, $f2));
#X obj 59 495 pack;
#X obj 59 472 swap;
#X obj 59 516 route 0 1;
#X obj 80 424 r force-legato;
#X obj 84 566 expr if($f1==1 \, $f1 \, $f2);
#X obj 167 100 s set-legato;
#X obj 197 195 s set-density;
#X msg 167 77 32;
#X obj 44 613 sel 31;
#X obj 44 635 s update-legato;
#X obj 315 245 s onsets-bass;
#X obj 187 216 s set-bass-density;
#X connect 0 0 18 0;
#X connect 1 0 9 0;
#X connect 2 0 3 0;
#X connect 3 0 12 0;
#X connect 3 0 33 0;
#X connect 5 0 7 0;
#X connect 6 0 7 1;
#X connect 7 0 8 0;
#X connect 7 0 22 0;
#X connect 8 0 7 1;
#X connect 9 0 16 0;
#X connect 9 1 6 0;
#X connect 9 1 17 0;
#X connect 9 2 4 0;
#X connect 9 2 36 0;
#X connect 10 0 21 1;
#X connect 12 0 15 0;
#X connect 14 0 1 0;
#X connect 14 0 32 0;
#X connect 14 0 37 0;
#X connect 15 0 1 1;
#X connect 15 1 14 0;
#X connect 16 0 5 0;
#X connect 17 0 13 0;
#X connect 18 0 1 0;
#X connect 19 0 18 0;
#X connect 20 0 21 0;
#X connect 21 0 27 0;
#X connect 22 0 34 0;
#X connect 22 1 20 0;
#X connect 22 2 10 0;
#X connect 22 3 11 1;
#X connect 22 4 23 0;
#X connect 23 0 25 1;
#X connect 23 0 30 1;
#X connect 24 0 27 1;
#X connect 25 0 11 0;
#X connect 26 0 28 0;
#X connect 27 0 26 0;
#X connect 27 1 26 1;
#X connect 28 0 25 0;
#X connect 28 1 30 0;
#X connect 29 0 24 0;
#X connect 30 0 11 0;
#X connect 33 0 31 0;
#X connect 34 0 35 0;
#X restore 217 133 pd adt;
#N canvas 186 23 839 739 get-chord-progression 0;
#X obj 23 19 inlet;
#X obj 489 57 unpack 0 0 0 0;
#X obj 489 101 /;
#X obj 504 79 r ticks/4;
#X obj 543 102 != 0;
#X obj 489 122 * 4;
#X obj 498 212 route;
#X obj 498 188 t l f;
#X obj 489 144 pack;
#X obj 23 40 t l l;
#X obj 279 316 add2list prepend;
#X msg 489 256 \$2 \$1;
#X obj 489 322 add2list prepend;
#X obj 689 271 r reset-analysis;
#X obj 489 364 list length;
#X obj 279 360 list length;
#X obj 460 400 ==;
#X obj 460 422 sel 1;
#X obj 285 483 list;
#X obj 279 339 t l l;
#X obj 489 342 t l l;
#X obj 495 478 list;
#X obj 489 277 route 1 0;
#X obj 596 322 add2list prepend;
#X obj 575 481 list;
#X obj 554 571 -;
#X obj 554 547 swap;
#X obj 495 520 t f f;
#X obj 497 658 pack s f f;
#X obj 602 546 f 0;
#X obj 632 546 + 1;
#X obj 602 567 mod 8;
#X obj 575 524 t f b;
#X obj 587 684 s;
#X obj 602 588 makefilename master-chord-fill-%d;
#X obj 460 444 t b b b b;
#X text 619 683 chord \, onset \, duration.;
#X obj 23 648 outlet;
#X obj 74 648 outlet;
#X obj 387 520 r reset-analysis;
#X msg 387 544 symbol nnnnn;
#X obj 285 524 t s s s;
#X obj 264 594 == 0;
#X obj 231 616 spigot;
#X obj 306 593 sel 1;
#X msg 306 616 symbol;
#X obj 498 235 tabwrite master-pattern;
#X obj 147 154 s fundamentals;
#X obj 147 109 change;
#X obj 240 108 r reset-analysis;
#X obj 147 132 add2list prepend;
#X obj 23 63 chord-make;
#X obj 30 86 chord-estimate;
#X obj 270 568 list-abs/compare-any;
#X obj 495 499 zexy/drip 0;
#X obj 575 502 zexy/drip 0;
#X obj 285 503 zexy/drip 0;
#X obj 489 165 change-any;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 1 2 4 0;
#X connect 2 0 5 0;
#X connect 3 0 2 1;
#X connect 4 0 8 1;
#X connect 5 0 8 0;
#X connect 6 0 46 0;
#X connect 7 0 6 0;
#X connect 7 1 6 1;
#X connect 7 1 46 1;
#X connect 8 0 57 0;
#X connect 9 0 51 0;
#X connect 9 1 1 0;
#X connect 10 0 19 0;
#X connect 11 0 22 0;
#X connect 12 0 20 0;
#X connect 13 0 12 1;
#X connect 13 0 23 1;
#X connect 13 0 10 1;
#X connect 14 0 16 1;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 35 0;
#X connect 18 0 56 0;
#X connect 19 0 15 0;
#X connect 19 1 18 1;
#X connect 20 0 14 0;
#X connect 20 1 21 1;
#X connect 21 0 54 0;
#X connect 22 0 12 0;
#X connect 22 0 38 0;
#X connect 22 1 23 0;
#X connect 23 0 24 1;
#X connect 24 0 55 0;
#X connect 25 0 28 2;
#X connect 26 0 25 0;
#X connect 26 1 25 1;
#X connect 27 0 28 1;
#X connect 27 1 26 0;
#X connect 28 0 33 0;
#X connect 29 0 30 0;
#X connect 29 0 31 0;
#X connect 30 0 29 1;
#X connect 31 0 34 0;
#X connect 32 0 26 1;
#X connect 32 1 29 0;
#X connect 34 0 33 1;
#X connect 35 1 18 0;
#X connect 35 2 21 0;
#X connect 35 3 24 0;
#X connect 39 0 40 0;
#X connect 40 0 53 1;
#X connect 41 0 43 0;
#X connect 41 1 53 1;
#X connect 41 2 53 0;
#X connect 42 0 43 1;
#X connect 43 0 28 0;
#X connect 44 0 45 0;
#X connect 45 0 28 0;
#X connect 48 0 50 0;
#X connect 49 0 50 1;
#X connect 50 0 47 0;
#X connect 51 0 37 0;
#X connect 51 0 52 0;
#X connect 52 0 10 0;
#X connect 52 2 48 0;
#X connect 53 0 42 0;
#X connect 53 0 44 0;
#X connect 54 0 27 0;
#X connect 55 0 32 0;
#X connect 56 0 41 0;
#X connect 57 0 7 0;
#X connect 57 0 11 0;
#X restore 218 203 pd get-chord-progression;
#N canvas 131 101 648 601 make-chord-variations 0;
#X msg 129 184 clear;
#X obj 111 44 t l l l;
#X obj 111 113 spigot;
#X obj 111 21 inlet;
#X text 149 20 receives list from makechord;
#X obj 180 113 inlet;
#X obj 111 137 list prepend;
#X obj 144 92 == 0;
#X text 243 155 we need to make sure that al chords are ordered from
low to high...;
#X text 289 48 we can use the argumentation by Tagg to take the first
chord of the shuttle as "tonic." According to this... it should be
quite easy to obtain the tonic of the shuttle.;
#X obj 129 161 r reset-analysis;
#X obj 173 194 r chord-variations;
#X text 222 112 receives onset position from route 1;
#X obj 90 464 list;
#X obj 210 263 t f f;
#N canvas 112 109 501 583 scales 0;
#X msg 131 175 0 60 65 69;
#X text 78 203 replacing a chord is as simple as rewriting a chord
on the same index!;
#X text 117 93 0 4 7;
#X text 117 113 0-1 4 7 (tercer grado);
#X text 116 66 substituciones!;
#X text 117 133 0 4 7+1 (sexto grado);
#X restore 418 214 pd scales;
#X obj 210 322 sel -1;
#X obj 260 442 * 80;
#X text 291 442 velocity;
#X obj 243 343 t b f f f;
#X obj 281 373 +;
#X obj 281 394 sel 2;
#X msg 429 274 0 60 64 67 71;
#X obj 419 301 s chord-variations;
#X msg 419 239 0 60 64 69 71;
#X text 322 354 -1 does nothing...;
#X text 328 372 0 silences what was sounding;
#X text 328 390 1 activates (and first mutes the previous chord);
#X obj 210 290 tabread slave-pattern;
#X obj 210 220 r current_step;
#X obj 267 512 list split 1;
#X floatatom 267 537 5 0 0 0 - - -, f 5;
#X obj 267 558 s bass;
#X obj 111 387 t l l;
#X text 7 311 This is where all the pitch variations happen! ->;
#X obj 90 523 pack 0 0 4;
#X obj 90 544 noteout 4;
#X obj 144 71 list-abs/list-compare;
#X obj 111 354 cyclone/coll one;
#C restore;
#X obj 90 486 list-dripv;
#X obj 267 488 zexy/sort;
#X obj 281 415 midi-panic-ch 4;
#X connect 0 0 38 0;
#X connect 1 0 2 0;
#X connect 1 1 37 1;
#X connect 1 2 37 0;
#X connect 2 0 6 0;
#X connect 3 0 1 0;
#X connect 5 0 6 1;
#X connect 6 0 38 0;
#X connect 7 0 2 1;
#X connect 10 0 0 0;
#X connect 11 0 38 0;
#X connect 13 0 39 0;
#X connect 14 0 28 0;
#X connect 14 1 38 0;
#X connect 16 1 19 0;
#X connect 17 0 35 1;
#X connect 19 0 13 0;
#X connect 19 1 17 0;
#X connect 19 2 20 1;
#X connect 19 3 20 0;
#X connect 20 0 21 0;
#X connect 21 0 41 0;
#X connect 22 0 23 0;
#X connect 24 0 23 0;
#X connect 28 0 16 0;
#X connect 29 0 14 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 33 0 13 1;
#X connect 33 1 40 0;
#X connect 35 0 36 0;
#X connect 37 0 7 0;
#X connect 38 0 33 0;
#X connect 39 0 35 0;
#X connect 40 0 30 0;
#X restore 218 225 pd make-chord-variations;
#N canvas 183 55 466 618 load-midi-loop 0;
#X msg 63 188 flush;
#X obj 37 543 / 4;
#X obj 23 494 unpack 0 0 0 0 0;
#X obj 92 564 s ticks/4;
#X obj 63 210 t a b;
#X obj 210 320 s reset-analysis;
#X obj 98 49 openpanel;
#X msg 98 135 read \$1;
#X obj 125 355 midi-player;
#X obj 224 423 s end-analysis;
#X obj 98 5 r load_midi_file;
#X obj 224 401 t b b;
#X obj 37 521 uanz;
#X obj 98 156 t b a;
#X obj 37 564 s bars;
#X obj 224 379 uanz;
#X obj 23 470 uanz;
#X obj 158 467 outlet;
#X msg 210 266 \; master-pattern const -1 \; slave-pattern const -1
;
#X obj 116 540 s set-tempo;
#X obj 116 517 spigot 0;
#X obj 161 495 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 182 494 get tempo from midi file (default = no);
#X msg 98 28 symbol ./midi-chord-loops;
#X obj 98 113 symbol;
#X obj 108 70 r reload;
#X obj 121 90 r file-by-name;
#X obj 158 446 midi-sort-events;
#X connect 0 0 4 0;
#X connect 1 0 14 0;
#X connect 2 0 12 0;
#X connect 2 3 3 0;
#X connect 2 4 20 0;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 4 1 12 1;
#X connect 4 1 16 1;
#X connect 4 1 15 1;
#X connect 4 1 18 0;
#X connect 6 0 24 0;
#X connect 7 0 13 0;
#X connect 8 1 27 0;
#X connect 8 2 16 0;
#X connect 8 3 15 0;
#X connect 10 0 23 0;
#X connect 11 0 9 0;
#X connect 11 1 27 1;
#X connect 12 0 1 0;
#X connect 13 0 0 0;
#X connect 13 1 8 0;
#X connect 15 0 11 0;
#X connect 16 0 2 0;
#X connect 20 0 19 0;
#X connect 21 0 20 1;
#X connect 23 0 6 0;
#X connect 24 0 7 0;
#X connect 25 0 24 0;
#X connect 26 0 24 0;
#X connect 27 0 17 0;
#X restore 218 183 pd load-midi-loop;
#N canvas 0 50 450 300 (subpatch) 0;
#X array master-pattern 33 float 2;
#X coords 0 2 32 -2 200 50 1 0 0;
#X restore 5 19 graph;
#N canvas 0 50 450 300 (subpatch) 0;
#X array new-onsets 33 float 2;
#X coords 0 2 32 -2 200 50 1 0 0;
#X restore 4 85 graph;
#N canvas 0 50 450 300 (subpatch) 0;
#X array slave-pattern 33 float 2;
#X coords 0 2 32 -2 200 50 1 0 0;
#X restore 4 220 graph;
#N canvas 0 50 450 300 (subpatch) 0;
#X array legato-pattern 33 float 2;
#X coords 0 2 32 -2 200 50 1 0 0;
#X restore 4 153 graph;
#N canvas 152 181 786 494 legato 0;
#N canvas 0 50 450 300 (subpatch) 0;
#X array \$0-legatorder 32 float 1;
#A 0 0 16 8 24 4 20 12 28 1 17 9 25 5 21 13 29 2 18 10 26 6 22 14 30
3 19 11 27 7 23 15 31;
#X coords 0 32 31 0 400 140 1 0 0;
#X restore 57 39 graph;
#X text 39 185 descendientemente \, por compás;
#X obj 42 457 tabset \$0-legatorder;
#X msg 42 210 0 16 1 17 2 18 3 19 4 20 5 21 6 22 7 23 8 24 9 25 10
26 11 27 12 28 13 29 14 30 15 31;
#X msg 76 353 22 20 6 4 30 28 14 12 26 24 21 10 23 8 5 18 7 16 29 2
31 0 13 15 25 27 9 11 17 19 1 3;
#X text 74 330 from daniel1;
#X msg 87 411 3 1 19 17 11 9 27 25 15 13 0 31 2 29 16 7 18 5 8 23 10
21 24 26 12 14 28 30 4 6 20 22;
#X text 84 390 from daniel-inverse;
#X text 59 275 descendientemente \, por subtiempos débiles;
#X obj 52 256 loadbang;
#X msg 52 298 0 16 8 24 4 20 12 28 1 17 9 25 5 21 13 29 2 18 10 26
6 22 14 30 3 19 11 27 7 23 15 31;
#X obj 576 60 r legato;
#X obj 493 261 tabwrite legato-pattern;
#X obj 568 226 tabread \$0-legatorder;
#X obj 615 130 s legato-pattern;
#X obj 580 177 sel;
#X obj 595 155 - 1;
#X obj 529 141 t f b f;
#X obj 580 201 s update-density;
#X msg 493 236 -1;
#X msg 615 108 const 0;
#X obj 529 116 forloop;
#X obj 576 84 t f f b;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 6 0 2 0;
#X connect 9 0 10 0;
#X connect 10 0 2 0;
#X connect 11 0 22 0;
#X connect 13 0 12 1;
#X connect 15 0 18 0;
#X connect 16 0 15 1;
#X connect 17 0 15 0;
#X connect 17 1 19 0;
#X connect 17 2 13 0;
#X connect 19 0 12 0;
#X connect 20 0 14 0;
#X connect 21 0 17 0;
#X connect 22 0 21 0;
#X connect 22 1 16 0;
#X connect 22 2 20 0;
#X restore 261 133 pd legato;
#N canvas 142 74 1165 688 control 0;
#X obj 19 332 s saturation;
#X obj 20 359 s substitution;
#X obj 61 216 s activity;
#X obj 118 110 s legato;
#X obj 118 88 min 32;
#X obj 126 67 s force-legato;
#X obj 118 35 int;
#X obj 118 11 r raw-legato;
#X obj 10 74 s density;
#X obj 10 11 r raw-density;
#X obj 10 33 int;
#X obj 237 34 int;
#X obj 237 11 r raw-register;
#X obj 237 77 s register;
#X obj 238 108 r reset-analysis;
#X obj 248 172 s set-register;
#X msg 238 129 0;
#X text 15 308 these are NOT yet implemented!;
#X obj 258 152 s set-range;
#X obj 347 34 int;
#X obj 347 11 r raw-range;
#X obj 347 77 s range;
#X obj 10 53 change;
#X obj 237 55 change;
#X obj 347 55 change;
#X obj 589 40 midi-learn;
#X msg 655 40 8 1;
#X obj 589 17 r learn-tempo;
#X obj 589 106 s set-tempo;
#X obj 589 64 maxlib/scale 0 127 40 239;
#X obj 589 86 int;
#X msg 655 160 1 1;
#X obj 589 206 int;
#X obj 589 137 r learn-density;
#X obj 589 184 maxlib/scale 0 127 1 32;
#X obj 589 226 s set-density;
#X msg 655 280 29 7;
#X obj 589 326 int;
#X msg 845 40 1 1;
#X obj 779 86 int;
#X obj 779 64 maxlib/scale 0 127 1 32;
#X obj 589 257 r learn-legato;
#X obj 589 304 maxlib/scale 0 127 1 34;
#X obj 589 346 s set-legato;
#X obj 779 17 r learn-activity;
#X obj 779 106 s set-activity;
#X msg 845 290 3 1;
#X obj 779 336 int;
#X msg 845 160 2 1;
#X obj 779 206 int;
#X obj 779 137 r learn-register;
#X obj 779 267 r learn-range;
#X obj 779 184 maxlib/scale 0 127 -6 6;
#X obj 779 357 s set-range;
#X obj 779 226 s set-register;
#X obj 779 314 maxlib/scale 0 127 0 4;
#X obj 444 11 r tempo;
#X obj 444 58 prepend label;
#X obj 444 34 tosymbol;
#X obj 444 81 s vis-tempo;
#X obj 589 160 midi-learn;
#X obj 589 280 midi-learn;
#X obj 779 40 midi-learn;
#X obj 779 290 midi-learn;
#X obj 779 160 midi-learn;
#X obj 61 189 r raw-activity;
#X obj 238 192 s set-activity;
#X msg 1035 40 4 1;
#X obj 979 86 int;
#X msg 1035 280 6 1;
#X msg 1055 170 5 1;
#X obj 969 40 midi-learn;
#X obj 969 280 midi-learn;
#X obj 989 170 midi-learn;
#X obj 969 17 r learn-bass-density;
#X obj 979 64 maxlib/scale 0 127 0 17;
#X obj 989 147 r learn-bass-duration;
#X obj 979 106 s set-bass-density;
#X obj 989 216 s set-bass-duration;
#X obj 969 257 r learn-bass-accents;
#X obj 989 194 maxlib/scale 0 127 0.2 1;
#X obj 969 336 s set-bass-velocity;
#X obj 969 314 maxlib/scale 0 127 4 0.125;
#X obj 420 149 loadbang;
#X obj 420 192 s set-bass-duration;
#X msg 420 170 1;
#X msg 642 553 seek \$1;
#X obj 806 486 loadbang;
#X obj 712 591 s playlist;
#X msg 712 559 location ./midi-chord-loops \, graphics 0;
#X obj 191 463 s set-play;
#X msg 642 477 1;
#X msg 673 477 -1;
#X obj 678 508 f 0;
#X obj 642 508 + 0;
#X obj 642 531 mod 100;
#X obj 642 431 r scroll-down;
#X obj 673 454 r scroll-up;
#X msg 453 264 60 1;
#X obj 385 264 midi-learn;
#X obj 385 289 != 0;
#X obj 385 356 s set-reload;
#X obj 385 240 r learn-reload;
#X msg 259 369 64 1;
#X obj 191 369 midi-learn;
#X obj 191 394 != 0;
#X obj 191 345 r learn-play;
#X msg 1034 398 7 1;
#X obj 968 398 midi-learn;
#X obj 969 484 s set-bass-octave;
#X obj 968 375 r learn-bass-octave;
#X obj 191 441 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 191 417 sel 1;
#X obj 968 422 maxlib/scale 0 127 0 2;
#X obj 968 442 - 2;
#X obj 969 462 abs;
#X msg 459 410 59 1;
#X obj 391 410 midi-learn;
#X obj 391 435 != 0;
#X obj 391 459 change;
#X obj 391 386 r learn-scrollup;
#X obj 391 502 s set-scroll-up;
#X msg 465 560 58 1;
#X obj 397 560 midi-learn;
#X obj 397 585 != 0;
#X obj 397 609 change;
#X obj 397 536 r learn-scrolldown;
#X obj 397 652 s set-scroll-down;
#X obj 385 312 change;
#X obj 385 334 sel 1;
#X obj 391 481 sel 1;
#X obj 397 630 sel 1;
#X obj 810 391 delay 100;
#X connect 4 0 3 0;
#X connect 6 0 5 0;
#X connect 6 0 4 0;
#X connect 7 0 6 0;
#X connect 9 0 10 0;
#X connect 10 0 22 0;
#X connect 11 0 23 0;
#X connect 12 0 11 0;
#X connect 14 0 16 0;
#X connect 16 0 15 0;
#X connect 16 0 18 0;
#X connect 16 0 66 0;
#X connect 19 0 24 0;
#X connect 20 0 19 0;
#X connect 22 0 8 0;
#X connect 23 0 13 0;
#X connect 24 0 21 0;
#X connect 25 0 29 0;
#X connect 25 1 26 0;
#X connect 26 0 25 1;
#X connect 27 0 25 0;
#X connect 29 0 30 0;
#X connect 30 0 28 0;
#X connect 31 0 60 1;
#X connect 32 0 35 0;
#X connect 33 0 60 0;
#X connect 34 0 32 0;
#X connect 36 0 61 1;
#X connect 37 0 43 0;
#X connect 38 0 62 1;
#X connect 39 0 45 0;
#X connect 40 0 39 0;
#X connect 41 0 61 0;
#X connect 42 0 37 0;
#X connect 44 0 62 0;
#X connect 46 0 63 1;
#X connect 47 0 53 0;
#X connect 48 0 64 1;
#X connect 49 0 54 0;
#X connect 50 0 64 0;
#X connect 51 0 63 0;
#X connect 52 0 49 0;
#X connect 55 0 47 0;
#X connect 56 0 58 0;
#X connect 57 0 59 0;
#X connect 58 0 57 0;
#X connect 60 0 34 0;
#X connect 60 1 31 0;
#X connect 61 0 42 0;
#X connect 61 1 36 0;
#X connect 62 0 40 0;
#X connect 62 1 38 0;
#X connect 63 0 55 0;
#X connect 63 1 46 0;
#X connect 64 0 52 0;
#X connect 64 1 48 0;
#X connect 65 0 2 0;
#X connect 67 0 71 1;
#X connect 68 0 77 0;
#X connect 69 0 72 1;
#X connect 70 0 73 1;
#X connect 71 0 75 0;
#X connect 71 1 67 0;
#X connect 72 0 82 0;
#X connect 72 1 69 0;
#X connect 73 0 80 0;
#X connect 73 1 70 0;
#X connect 74 0 71 0;
#X connect 75 0 68 0;
#X connect 76 0 73 0;
#X connect 79 0 72 0;
#X connect 80 0 78 0;
#X connect 82 0 81 0;
#X connect 83 0 85 0;
#X connect 85 0 84 0;
#X connect 86 0 88 0;
#X connect 87 0 89 0;
#X connect 87 0 132 0;
#X connect 89 0 88 0;
#X connect 91 0 94 0;
#X connect 92 0 94 0;
#X connect 93 0 94 1;
#X connect 94 0 93 0;
#X connect 94 0 95 0;
#X connect 95 0 86 0;
#X connect 96 0 91 0;
#X connect 97 0 92 0;
#X connect 98 0 99 1;
#X connect 99 0 100 0;
#X connect 99 1 98 0;
#X connect 100 0 128 0;
#X connect 102 0 99 0;
#X connect 103 0 104 1;
#X connect 104 0 105 0;
#X connect 104 1 103 0;
#X connect 105 0 112 0;
#X connect 106 0 104 0;
#X connect 107 0 108 1;
#X connect 108 0 113 0;
#X connect 108 1 107 0;
#X connect 110 0 108 0;
#X connect 111 0 90 0;
#X connect 112 0 111 0;
#X connect 113 0 114 0;
#X connect 114 0 115 0;
#X connect 115 0 109 0;
#X connect 116 0 117 1;
#X connect 117 0 118 0;
#X connect 117 1 116 0;
#X connect 118 0 119 0;
#X connect 119 0 130 0;
#X connect 120 0 117 0;
#X connect 122 0 123 1;
#X connect 123 0 124 0;
#X connect 123 1 122 0;
#X connect 124 0 125 0;
#X connect 125 0 131 0;
#X connect 126 0 123 0;
#X connect 128 0 129 0;
#X connect 129 0 101 0;
#X connect 130 0 121 0;
#X connect 131 0 127 0;
#X connect 132 0 91 0;
#X restore 216 41 pd control from pd-gui;
#N canvas 0 153 940 573 clock 0;
#X floatatom 552 460 5 0 0 0 - - -, f 5;
#X obj 337 288 /;
#X obj 219 440 + 1;
#X obj 189 440 f 0;
#X msg 238 416 0;
#X msg 337 265 15000 \$1;
#X obj 216 492 sel 0 31;
#X obj 189 472 t f f;
#X obj 214 337 metro 125;
#X obj 337 242 r tempo;
#X obj 189 411 t b;
#X floatatom 200 93 5 0 0 0 - - -, f 5;
#X obj 124 376 sel 0;
#X msg 134 401 0;
#X obj 199 537 s current_step;
#X obj 214 248 r play;
#X obj 270 362 r clock-mode;
#X obj 259 226 r clock-mode;
#X obj 214 277 f;
#X obj 259 248 t b f;
#X obj 286 280 sel 1;
#X obj 34 42 r clock-mode;
#X obj 61 105 - 1;
#X obj 61 128 abs;
#X obj 16 150 spigot 1;
#X obj 16 222 sel 1 0;
#X obj 16 282 prepend label;
#X obj 16 305 s gui-play;
#X msg 16 247 STOP;
#X msg 51 247 PLAY;
#X obj 26 197 s set-play;
#X msg 26 174 set \$1;
#X obj 472 78 sel 1 0;
#X obj 472 6 r play;
#X obj 472 163 s gui-play;
#X msg 472 103 STOP;
#X msg 507 103 PLAY;
#X obj 524 79 loadbang;
#X msg 480 30 set \$1;
#X obj 480 53 s set-play;
#X obj 616 78 sel 1 0;
#X obj 616 8 r clock-mode;
#X obj 616 183 s gui-clock;
#X msg 552 385 /setTempo \$1;
#X obj 552 351 spigot 0;
#X obj 661 230 r clock-mode;
#X obj 552 301 f;
#X obj 607 262 t b f;
#X obj 552 262 r tempo;
#X obj 634 284 - 1;
#X obj 634 304 abs;
#X obj 304 128 spigot 0;
#X obj 381 6 r clock-mode;
#X obj 381 27 - 1;
#X obj 381 47 abs;
#X msg 631 34 set \$1;
#X obj 631 57 s set-clock-mode;
#X obj 661 391 sel 0;
#X msg 616 130 INTERNAL;
#X obj 381 71 t b f;
#X obj 304 151 s set-tempo;
#X msg 681 130 EXT-SYNC;
#X obj 16 104 f;
#X obj 34 65 t b f;
#X obj 443 313 r play;
#X obj 443 342 spigot 0;
#X msg 443 369 /setTransport \$1;
#X obj 214 297 spigot 1;
#X floatatom 148 92 5 0 0 0 - - -, f 5;
#X obj 755 67 loadbang;
#X msg 661 413 disconnect \, connect localhost 8002;
#X obj 124 291 spigot 0;
#X obj 134 223 r clock-mode;
#X obj 134 244 - 1;
#X obj 134 264 abs;
#X obj 765 120 s set-clock-mode;
#X obj 785 186 r tempo;
#X obj 785 233 prepend label;
#X obj 785 256 s vis-tempo;
#X obj 304 102 f 125;
#X msg 765 97 1;
#X obj 124 44 mrpeach/unpackOSC;
#X obj 552 437 mrpeach/udpsend;
#X obj 552 407 mrpeach/packOSC;
#X obj 124 68 mrpeach/routeOSC /status /step /tempoLive;
#X obj 124 19 mrpeach/udpreceive 8000;
#X obj 216 514 midi-panic-ch 4;
#X obj 74 517 midi-panic-ch 2;
#X obj 94 537 midi-panic-ch 4;
#X obj 189 386 zexy/multiplex;
#X obj 785 209 cyclone/tosymbol;
#X obj 472 138 cyclone/prepend label;
#X obj 616 158 cyclone/prepend label;
#X connect 1 0 8 1;
#X connect 2 0 3 1;
#X connect 3 0 2 0;
#X connect 3 0 7 0;
#X connect 4 0 3 1;
#X connect 5 0 1 0;
#X connect 6 0 86 0;
#X connect 6 1 4 0;
#X connect 7 0 14 0;
#X connect 7 1 6 0;
#X connect 8 0 89 1;
#X connect 9 0 5 0;
#X connect 10 0 3 0;
#X connect 12 0 13 0;
#X connect 12 0 87 0;
#X connect 12 0 88 0;
#X connect 13 0 3 1;
#X connect 15 0 18 0;
#X connect 16 0 89 2;
#X connect 17 0 19 0;
#X connect 18 0 67 0;
#X connect 19 0 18 0;
#X connect 19 1 20 0;
#X connect 19 1 67 1;
#X connect 20 1 8 0;
#X connect 21 0 63 0;
#X connect 22 0 23 0;
#X connect 23 0 24 1;
#X connect 24 0 25 0;
#X connect 24 0 31 0;
#X connect 25 0 28 0;
#X connect 25 1 29 0;
#X connect 26 0 27 0;
#X connect 28 0 26 0;
#X connect 29 0 26 0;
#X connect 31 0 30 0;
#X connect 32 0 35 0;
#X connect 32 1 36 0;
#X connect 33 0 32 0;
#X connect 33 0 38 0;
#X connect 35 0 91 0;
#X connect 36 0 91 0;
#X connect 37 0 36 0;
#X connect 38 0 39 0;
#X connect 40 0 58 0;
#X connect 40 1 61 0;
#X connect 41 0 40 0;
#X connect 41 0 55 0;
#X connect 43 0 83 0;
#X connect 44 0 43 0;
#X connect 45 0 47 0;
#X connect 45 0 57 0;
#X connect 46 0 44 0;
#X connect 47 0 46 0;
#X connect 47 1 49 0;
#X connect 48 0 46 0;
#X connect 49 0 50 0;
#X connect 50 0 44 1;
#X connect 50 0 65 1;
#X connect 51 0 60 0;
#X connect 52 0 53 0;
#X connect 53 0 54 0;
#X connect 54 0 59 0;
#X connect 55 0 56 0;
#X connect 57 0 70 0;
#X connect 58 0 92 0;
#X connect 59 0 79 0;
#X connect 59 1 51 1;
#X connect 61 0 92 0;
#X connect 62 0 24 0;
#X connect 63 0 62 0;
#X connect 63 1 22 0;
#X connect 64 0 65 0;
#X connect 65 0 66 0;
#X connect 66 0 83 0;
#X connect 67 0 8 0;
#X connect 67 0 12 0;
#X connect 69 0 80 0;
#X connect 69 0 58 0;
#X connect 70 0 82 0;
#X connect 71 0 12 0;
#X connect 72 0 73 0;
#X connect 73 0 74 0;
#X connect 74 0 71 1;
#X connect 76 0 90 0;
#X connect 77 0 78 0;
#X connect 79 0 51 0;
#X connect 80 0 75 0;
#X connect 81 0 84 0;
#X connect 82 0 0 0;
#X connect 83 0 82 0;
#X connect 84 0 18 1;
#X connect 84 0 62 0;
#X connect 84 0 68 0;
#X connect 84 0 71 0;
#X connect 84 1 11 0;
#X connect 84 1 89 0;
#X connect 84 2 79 0;
#X connect 85 0 81 0;
#X connect 89 0 10 0;
#X connect 90 0 77 0;
#X connect 91 0 34 0;
#X connect 92 0 42 0;
#X restore 356 41 pd clock;
#X obj 456 41 loadbang;
#X msg 456 63 \; set-tempo 125;
#N canvas 61 23 928 751 activity 0;
#X obj 628 162 tabdump new-onsets;
#X obj 583 184 listfind;
#X msg 583 162 1;
#X obj 459 156 tabread \$0-activity;
#X obj 495 219 listfind;
#X obj 495 244 route float bang;
#X obj 610 280 f;
#X obj 639 280 + 1;
#X obj 625 258 f;
#X obj 471 319 add2list prepend;
#X obj 471 361 list length;
#X obj 635 233 r voice-changes;
#X obj 471 340 t l l;
#X obj 477 449 list;
#X obj 486 382 r voice-changes;
#X obj 471 404 ==;
#X obj 477 427 sel 1;
#X obj 477 471 sort;
#X obj 459 180 t f f;
#X obj 471 297 f;
#X obj 495 266 t b;
#X obj 432 55 t f b b;
#X obj 583 140 t b b b;
#X obj 477 630 listfind;
#X obj 477 652 route float;
#X obj 166 58 r density;
#X obj 230 58 r activity;
#X obj 230 112 *;
#X obj 230 85 t b f;
#X obj 230 155 int;
#X floatatom 260 176 5 0 0 0 - - -, f 5;
#X obj 772 328 coll one;
#C restore;
#X obj 751 372 t b l;
#X obj 665 398 f;
#X obj 665 469 list;
#X obj 797 587 list prepend;
#X obj 665 420 t b f;
#N canvas 431 50 495 459 activity 0;
#N canvas 0 50 450 300 (subpatch) 0;
#X array \$0-activity 32 float 1;
#A 0 0 16 8 24 4 20 12 28 1 17 9 25 5 21 13 29 2 18 10 26 6 22 14 30
3 19 11 27 7 23 15 31;
#X coords 0 32 31 0 400 140 1 0 0;
#X restore 14 -37 graph;
#X text 11 103 descendientemente \, por compás;
#X msg 14 128 0 16 1 17 2 18 3 19 4 20 5 21 6 22 7 23 8 24 9 25 10
26 11 27 12 28 13 29 14 30 15 31;
#X msg 48 271 22 20 6 4 30 28 14 12 26 24 21 10 23 8 5 18 7 16 29 2
31 0 13 15 25 27 9 11 17 19 1 3;
#X text 46 248 from daniel1;
#X msg 59 329 3 1 19 17 11 9 27 25 15 13 0 31 2 29 16 7 18 5 8 23 10
21 24 26 12 14 28 30 4 6 20 22;
#X text 56 308 from daniel-inverse;
#X text 31 193 descendientemente \, por subtiempos débiles;
#X obj 24 174 loadbang;
#X msg 24 216 0 16 8 24 4 20 12 28 1 17 9 25 5 21 13 29 2 18 10 26
6 22 14 30 3 19 11 27 7 23 15 31;
#X obj 14 375 tabset \$0-activity;
#X connect 2 0 10 0;
#X connect 3 0 10 0;
#X connect 5 0 10 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X restore 41 430 pd activity table order;
#X obj 477 494 t b l;
#X msg 477 516 32;
#X obj 477 568 t f f;
#X obj 751 351 list;
#X obj 751 305 t b f;
#X obj 692 444 chord_rotate_manual;
#X floatatom 268 85 5 0 0 0 - - -, f 5;
#X text 272 134 number of chords;
#X floatatom 339 87 5 0 0 0 - - -, f 5;
#X obj 230 198 change;
#X obj 814 175 list-compare;
#X obj 781 148 t l l l;
#X obj 781 217 spigot;
#X obj 814 196 == 0;
#X obj 432 80 forloop;
#X obj 477 539 forloop;
#X obj 21 150 random 2;
#X obj 21 174 sel 0;
#X msg 21 198 -1;
#X obj 21 128 t b;
#X obj 50 72 forloop;
#X obj 21 226 add2list prepend;
#X msg 114 204 0;
#X msg 50 27 16;
#X obj 50 96 sel 0;
#X obj 21 276 list;
#X obj 151 217 sel;
#X obj 166 196 - 1;
#X obj 50 50 t f f;
#N canvas 0 50 450 278 (subpatch) 0;
#X array r-voicing 16 float 3;
#A 0 0 1 -1 1 -1 1 1 -1 1 1 1 1 1 1 -1 1;
#X coords 0 1.1 16 -1.1 100 70 1 0 0;
#X restore 21 333 graph;
#X obj 21 298 tabset r-voicing;
#X text 83 28 GET NEW RANDOM DISTRIBUTION;
#X obj 370 425 print some;
#X obj 253 266 s voice-changes;
#X obj 477 674 tabread r-voicing;
#X obj 230 220 + 1;
#X obj 604 210 print onset-positions;
#X floatatom 277 233 5 0 0 0 - - -, f 5;
#X obj 432 103 t f f;
#X obj 412 129 + 16;
#X obj 230 134 * 0.4;
#X obj 797 608 s chord-variations;
#X obj 353 516 drip;
#X msg 353 492 0 16 24;
#X obj 353 542 moses 16;
#X connect 0 0 1 1;
#X connect 1 0 4 1;
#X connect 1 0 74 0;
#X connect 2 0 1 0;
#X connect 3 0 18 0;
#X connect 4 0 5 0;
#X connect 5 0 20 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 6 0 3 0;
#X connect 7 0 6 1;
#X connect 8 0 6 1;
#X connect 9 0 12 0;
#X connect 10 0 15 0;
#X connect 11 0 8 0;
#X connect 12 0 10 0;
#X connect 12 1 13 1;
#X connect 13 0 17 0;
#X connect 14 0 15 1;
#X connect 15 0 16 0;
#X connect 16 0 13 0;
#X connect 17 0 38 0;
#X connect 17 0 70 0;
#X connect 17 0 80 0;
#X connect 18 0 4 0;
#X connect 18 1 19 1;
#X connect 19 0 9 0;
#X connect 20 0 19 0;
#X connect 21 0 52 0;
#X connect 21 1 8 0;
#X connect 21 2 22 0;
#X connect 22 0 2 0;
#X connect 22 1 9 1;
#X connect 22 2 0 0;
#X connect 23 0 24 0;
#X connect 24 0 72 0;
#X connect 25 0 27 0;
#X connect 26 0 28 0;
#X connect 26 0 44 0;
#X connect 27 0 78 0;
#X connect 28 0 27 0;
#X connect 28 1 27 1;
#X connect 29 0 30 0;
#X connect 29 0 47 0;
#X connect 31 0 41 1;
#X connect 32 0 33 0;
#X connect 32 1 43 1;
#X connect 33 0 36 0;
#X connect 34 0 35 0;
#X connect 35 0 79 0;
#X connect 36 0 34 0;
#X connect 36 1 43 0;
#X connect 38 0 39 0;
#X connect 38 1 23 1;
#X connect 39 0 53 0;
#X connect 40 0 23 0;
#X connect 41 0 32 0;
#X connect 42 0 41 0;
#X connect 42 1 31 0;
#X connect 42 1 35 1;
#X connect 43 0 34 1;
#X connect 46 0 27 0;
#X connect 47 0 73 0;
#X connect 48 0 51 0;
#X connect 49 0 50 0;
#X connect 49 1 48 1;
#X connect 49 2 48 0;
#X connect 51 0 50 1;
#X connect 52 0 76 0;
#X connect 53 0 40 0;
#X connect 54 0 55 0;
#X connect 55 0 56 0;
#X connect 55 1 59 0;
#X connect 56 0 59 0;
#X connect 57 0 54 0;
#X connect 58 0 62 0;
#X connect 59 0 63 1;
#X connect 60 0 59 1;
#X connect 61 0 66 0;
#X connect 62 0 60 0;
#X connect 62 1 57 0;
#X connect 62 1 64 0;
#X connect 63 0 68 0;
#X connect 64 0 63 0;
#X connect 65 0 64 1;
#X connect 66 0 58 0;
#X connect 66 1 65 0;
#X connect 72 0 33 1;
#X connect 73 0 71 0;
#X connect 73 0 21 0;
#X connect 73 0 75 0;
#X connect 76 0 77 0;
#X connect 76 1 3 0;
#X connect 77 0 3 0;
#X connect 78 0 29 0;
#X connect 80 0 82 0;
#X connect 81 0 80 0;
#X restore 323 133 pd activity;
#N canvas 342 114 582 428 register 0;
#X msg 144 117 dump;
#X obj 103 165 t b l;
#X obj 54 244 >= 0;
#X obj 54 267 sel 0;
#X obj 27 200 f;
#X obj 98 85 t b f;
#X obj 27 344 list;
#X msg 54 291 -1;
#X obj 185 373 list prepend;
#X obj 91 35 t f f;
#X obj 98 62 -;
#X obj 27 222 t b f;
#X msg 432 141 dump;
#X obj 404 189 t b l;
#X obj 378 273 list prepend;
#X obj 394 12 r range;
#X obj 409 65 -;
#X obj 394 36 t f f f;
#X obj 394 87 *;
#X obj 448 39 r set-range;
#X obj 394 108 t b f;
#X obj 368 224 f;
#X text 356 321 sumar restar 12 a cada cambio;
#X text 356 341 en vez de calcular la distancia;
#X text 356 362 de octava;
#X obj 91 12 r register;
#X obj 81 319 chord_rotate_manual;
#X obj 368 249 chord-range;
#X obj 185 395 s chord-variations;
#X obj 378 294 s chord-variations;
#X obj 144 139 cyclone/coll one;
#C restore;
#X obj 432 163 cyclone/coll one;
#C restore;
#X connect 0 0 30 0;
#X connect 1 0 4 0;
#X connect 1 1 26 1;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 3 1 26 0;
#X connect 4 0 11 0;
#X connect 5 0 0 0;
#X connect 5 1 4 1;
#X connect 6 0 8 0;
#X connect 7 0 26 0;
#X connect 8 0 28 0;
#X connect 9 0 10 1;
#X connect 9 1 10 0;
#X connect 10 0 5 0;
#X connect 11 0 6 0;
#X connect 11 1 2 0;
#X connect 12 0 31 0;
#X connect 13 0 21 0;
#X connect 13 1 27 1;
#X connect 14 0 29 0;
#X connect 15 0 17 0;
#X connect 16 0 18 1;
#X connect 17 0 18 0;
#X connect 17 1 16 1;
#X connect 17 2 16 0;
#X connect 18 0 20 0;
#X connect 19 0 16 1;
#X connect 20 0 12 0;
#X connect 20 1 21 1;
#X connect 21 0 27 0;
#X connect 25 0 9 0;
#X connect 26 0 6 1;
#X connect 27 0 14 0;
#X connect 30 0 1 0;
#X connect 30 1 8 1;
#X connect 31 0 13 0;
#X connect 31 1 14 1;
#X restore 217 153 pd register and range;
#X text 9 338 TO DO's:;
#X text 5 280 angel.faraldo@upf.edu \, BCN \, 2015;
#X text 8 392 rethink chord-substitution and expansion.;
#X text 8 412 circular visualization?? processing??;
#X text 8 432 add colors to chord height... (brigthness) and range.
;
#X text 9 355 density bug cuando llega a 15 hace 16;
#X text 8 372 legato does not always visualize correctly.;
#N canvas 413 256 515 367 BASS 0;
#N canvas 789 265 314 362 tables 0;
#N canvas 0 50 450 300 (subpatch) 0;
#X array nonext 16 float 3;
#A 0 4 2 5 3 6 5 1 8 3 7 6 3 7 8 6 6;
#X coords 0 3 15 -3 200 50 1 0 0;
#X restore 53 53 graph;
#N canvas 0 50 450 300 (subpatch) 0;
#X array next 16 float 3;
#A 0 4 2 5 3 4 5 1 2 3 5 4 3 5 2 4 4;
#X coords 0 3 15 -3 200 50 1 0 0;
#X restore 54 127 graph;
#N canvas 0 50 450 300 (subpatch) 0;
#X array id2d 32 float 3;
#A 0 0 1 1 1 1 2 2 2 2 2 2 3 3 3 3 4 0 1 1 1 1 2 2 2 2 2 2 3 3 3 3
4;
#X coords 0 4 31 0 200 140 1 0 0;
#X restore 46 198 graph;
#X restore 14 262 pd tables needed;
#X text 127 261 <- dont erase this. there are some tables needed for
this thing to work;
#N canvas 106 88 1038 652 onset2note 0;
#X obj 53 39 inlet;
#X obj 136 77 table riddm;
#N canvas 465 82 691 699 salience 0;
#X obj 24 17 inlet;
#X obj 41 132 list split 1;
#X obj 110 188 list split 1;
#X obj 68 211 == 1;
#X obj 102 211 == 0;
#X obj 68 235 &&;
#X obj 104 168 list;
#X obj 41 151 t b f;
#X obj 74 87 list split 1;
#X obj 40 114 list append;
#X obj 147 395 list;
#X obj 23 459 list;
#X obj 69 395 list prepend;
#X obj 23 527 list split 1;
#X msg 240 181 bang;
#X obj 128 493 list length;
#X obj 23 476 t a a;
#X obj 128 510 - 1;
#X obj 125 301 f;
#X obj 160 300 + 1;
#X msg 352 162 0;
#X obj 23 37 t b a a b b;
#X msg 125 282 bang;
#X obj 68 265 t f f;
#N canvas 0 50 450 300 (subpatch) 0;
#X array salience 16 float 1;
#A 0 -1 4 -3 6 -6 0.5 -6.5 1 -6 0.5 -6.5 1 -4 1.5 -5.5 3;
#X coords 0 4 15 -4 200 140 1 0 0;
#X restore 421 174 graph;
#X msg 365 326 \; salience 0 4 -1 1 -2 2 -1 1 -3 3 -1 1 -2 2 -1 1 -4
;
#X obj 125 319 tabread salience;
#X obj 68 336 *;
#X obj 69 375 int;
#X obj 23 581 outlet;
#X text 290 33 find the salient notes of a rhythmic phrase;
#X obj 68 356 * -1;
#X obj 244 541 outlet;
#X text 28 598 todos;
#X text 225 558 solo positivos;
#X text 224 572 (syncopations);
#X obj 451 537 outlet;
#X text 432 554 solo negativos;
#X text 434 572 (reinforcements);
#X obj 351 426 list;
#X obj 244 445 list;
#X obj 265 426 list prepend;
#X obj 244 515 list split 1;
#X obj 349 481 list length;
#X obj 244 464 t a a;
#X obj 349 498 - 1;
#X obj 265 393 moses 0;
#X obj 23 428 t b b b;
#X msg 225 407 0;
#X connect 0 0 21 0;
#X connect 1 0 7 0;
#X connect 1 1 2 0;
#X connect 1 1 6 1;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 5 1;
#X connect 5 0 23 0;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X connect 7 1 3 0;
#X connect 8 0 9 1;
#X connect 9 0 1 0;
#X connect 10 0 12 1;
#X connect 11 0 16 0;
#X connect 12 0 10 0;
#X connect 12 0 11 1;
#X connect 13 0 29 0;
#X connect 14 0 12 1;
#X connect 14 0 41 1;
#X connect 15 0 17 0;
#X connect 16 0 13 0;
#X connect 16 1 15 0;
#X connect 17 0 13 1;
#X connect 18 0 19 0;
#X connect 18 0 26 0;
#X connect 19 0 18 1;
#X connect 20 0 18 1;
#X connect 21 0 47 0;
#X connect 21 1 9 0;
#X connect 21 2 8 0;
#X connect 21 3 14 0;
#X connect 21 4 20 0;
#X connect 22 0 18 0;
#X connect 23 0 27 0;
#X connect 23 1 22 0;
#X connect 26 0 27 1;
#X connect 27 0 31 0;
#X connect 28 0 12 0;
#X connect 28 0 46 0;
#X connect 31 0 28 0;
#X connect 39 0 41 1;
#X connect 40 0 44 0;
#X connect 41 0 39 0;
#X connect 41 0 40 1;
#X connect 42 0 32 0;
#X connect 43 0 45 0;
#X connect 44 0 42 0;
#X connect 44 1 43 0;
#X connect 45 0 42 1;
#X connect 46 0 48 0;
#X connect 46 1 41 0;
#X connect 47 0 11 0;
#X connect 47 1 40 0;
#X connect 48 0 41 0;
#X restore 53 108 pd salience;
#N canvas 264 140 857 503 calculate 0;
#X obj 334 173 list split 1;
#X obj 334 194 t b a;
#X obj 377 212 list;
#X obj 420 258 f;
#X obj 442 258 + 1;
#X msg 436 169 0;
#X obj 366 241 t f b;
#X obj 350 283 sel 0;
#X obj 474 279 t f f;
#X obj 378 327 +;
#X obj 231 87 t b a b b;
#X msg 214 211 16;
#X obj 214 263 t f f;
#X obj 77 28 inlet;
#X text 431 16 use the values of the most salien notes and the values
of the L profile and set an experimental velocity value for the notes.
This highlights the accents (theoretical) plus the syncopations found
on the pattern.;
#X obj 58 394 forloop;
#X msg 58 373 16;
#X obj 58 415 t f f;
#X obj 58 476 tabwrite velocity;
#X obj 126 170 t b b b;
#X obj 58 456 pow;
#X obj 506 404 inlet;
#X obj 214 304 + 2;
#X obj 393 307 tabread vel;
#X obj 378 351 tabwrite vel;
#X obj 214 283 tabread vel;
#X obj 214 324 tabwrite vel;
#X obj 59 435 tabread vel;
#X obj 555 218 table vel 16;
#X obj 506 424 t b f;
#X msg 145 347 \; vel normalize 1;
#X msg 369 104 \; vel 0 2 0 1 0 2 0 1 0 2 0 1 0 2 0 1 0;
#X obj 214 240 forloop;
#X connect 0 0 1 0;
#X connect 0 1 2 1;
#X connect 1 0 2 0;
#X connect 1 1 6 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 7 0;
#X connect 6 1 3 0;
#X connect 7 1 9 0;
#X connect 8 0 23 0;
#X connect 8 1 24 1;
#X connect 9 0 24 0;
#X connect 10 0 19 0;
#X connect 10 1 0 0;
#X connect 10 2 5 0;
#X connect 10 2 2 1;
#X connect 10 3 31 0;
#X connect 11 0 32 0;
#X connect 12 0 25 0;
#X connect 12 1 26 1;
#X connect 13 0 10 0;
#X connect 15 0 17 0;
#X connect 16 0 15 0;
#X connect 17 0 27 0;
#X connect 17 1 18 1;
#X connect 19 0 16 0;
#X connect 19 1 30 0;
#X connect 19 2 11 0;
#X connect 20 0 18 0;
#X connect 21 0 29 0;
#X connect 22 0 26 0;
#X connect 23 0 9 1;
#X connect 25 0 22 0;
#X connect 27 0 20 0;
#X connect 29 0 16 0;
#X connect 29 1 20 1;
#X connect 32 0 12 0;
#X restore 84 216 pd calculate velocity;
#X text 175 106 calculate the salience of a sequence. Outputs are (allnotes
\, only syncopations \, only reinforcements);
#X obj 84 236 table velocity 16;
#X obj 636 233 tabread riddm;
#X obj 636 254 sel 1;
#X obj 722 218 tabread velocity;
#X obj 636 201 t f f;
#X obj 707 311 f;
#X text 126 105 <-------;
#X text 98 39 input an onset sequence;
#X obj 590 499 pack f f;
#X obj 590 521 outlet;
#X obj 440 248 f;
#X obj 516 196 r fundamentals;
#X obj 516 221 unpack;
#X obj 481 249 f;
#X obj 440 214 sel 0 1;
#X obj 466 427 f;
#X obj 609 360 t b f;
#X obj 827 218 r tempo;
#X obj 827 243 * 4;
#X msg 827 269 60000 \$1;
#X obj 827 292 /;
#X obj 841 327 r bass-duration;
#X obj 841 351 t b f;
#X obj 827 376 * 1;
#X obj 615 69 r current_step;
#X obj 636 178 mod 16;
#X obj 163 322 r bass-octave;
#X obj 163 347 - 1;
#X obj 163 372 * 12;
#X obj 163 395 + 36;
#X obj 689 276 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 636 387 int;
#X obj 590 475 makenote 127 300;
#X obj 722 239 * 127;
#X obj 440 192 >= 16;
#X obj 509 326 mod 2;
#X obj 615 91 t f f f;
#X obj 495 366 * 12;
#X obj 479 401 + 0;
#X floatatom 163 429 5 0 0 0 - - -, f 5;
#X obj 457 321 + 24;
#X obj 207 182 r bass-velocity;
#X floatatom 240 207 5 0 0 0 - - -, f 5;
#X floatatom 232 257 5 0 0 0 - - -, f 5;
#X floatatom 389 410 5 0 0 0 - - -, f 5;
#X floatatom 378 232 5 0 0 0 - - -, f 5;
#X floatatom 513 269 5 0 0 0 - - -, f 5;
#X floatatom 407 281 5 0 0 0 - - -, f 5;
#X obj 62 331 loadbang;
#X msg 65 364 1;
#X obj 57 498 s set-bass-octave;
#X obj 136 56 zexy/tabset riddm;
#X connect 0 0 2 0;
#X connect 0 0 56 0;
#X connect 2 1 3 0;
#X connect 6 0 7 0;
#X connect 7 0 10 0;
#X connect 7 0 35 0;
#X connect 8 0 38 0;
#X connect 9 0 6 0;
#X connect 9 1 8 0;
#X connect 10 0 21 0;
#X connect 13 0 14 0;
#X connect 15 0 45 0;
#X connect 15 0 52 0;
#X connect 16 0 17 0;
#X connect 17 0 15 1;
#X connect 17 1 18 1;
#X connect 18 0 45 0;
#X connect 18 0 51 0;
#X connect 19 0 15 0;
#X connect 19 1 18 0;
#X connect 20 0 37 0;
#X connect 21 0 20 0;
#X connect 21 1 36 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 28 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 27 1 28 1;
#X connect 28 0 37 2;
#X connect 29 0 41 0;
#X connect 30 0 9 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 34 0 44 0;
#X connect 34 0 45 1;
#X connect 36 0 37 1;
#X connect 37 0 13 0;
#X connect 37 1 13 1;
#X connect 38 0 10 1;
#X connect 39 0 19 0;
#X connect 39 0 50 0;
#X connect 40 0 42 0;
#X connect 41 0 30 0;
#X connect 41 1 39 0;
#X connect 41 2 40 0;
#X connect 42 0 43 1;
#X connect 43 0 20 1;
#X connect 45 0 43 0;
#X connect 45 0 49 0;
#X connect 46 0 47 0;
#X connect 46 0 3 1;
#X connect 48 0 3 1;
#X connect 53 0 54 0;
#X connect 54 0 55 0;
#X coords 0 652 1 651 240 17 0;
#X restore 13 181 pd onset2note;
#X text 99 181 <- look inside to adjust the note sequence;
#X obj 13 206 noteout 2;
#X text 84 205 bass is on midi channel 2;
#X msg 22 130;
#X obj 112 35 r onsets-bass;
#X obj 24 33 r set-density;
#X obj 24 56 pipe 1;
#X obj 13 9 r bass-density;
#X obj 13 83 populate-rhythm;
#X obj 22 108 cyclone/prepend set;
#X connect 2 0 4 0;
#X connect 7 0 11 1;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 11 0 2 0;
#X connect 11 0 12 0;
#X connect 12 0 6 0;
#X restore 218 253 pd BASS;
#N canvas 20 41 811 700 master-visualization 0;
#X msg 364 80 0 \, destroy;
#X floatatom 402 152 5 0 0 0 - - -, f 5;
#N canvas 570 23 481 734 grid 0;
#X obj 14 79 abs/grid-beat-strong;
#X obj 14 143 abs/grid-beat-soft;
#X obj 14 163 abs/grid-beat-soft;
#X obj 14 183 abs/grid-beat-soft;
#X obj 14 307 abs/grid-beat-soft;
#X obj 14 327 abs/grid-beat-soft;
#X obj 14 347 abs/grid-beat-soft;
#X obj 14 473 abs/grid-beat-soft;
#X obj 14 493 abs/grid-beat-soft;
#X obj 14 513 abs/grid-beat-soft;
#X obj 14 637 abs/grid-beat-soft;
#X obj 14 657 abs/grid-beat-soft;
#X obj 14 677 abs/grid-beat-soft;
#X obj 14 14 inlet;
#X obj 14 246 abs/grid-beat-strong;
#X obj 14 412 abs/grid-beat-strong;
#X obj 14 576 abs/grid-beat-strong;
#X obj 14 226 alpha 1;
#X obj 14 286 alpha 1;
#X obj 14 391 alpha 1;
#X obj 14 453 alpha 1;
#X obj 14 556 alpha 1;
#X obj 14 617 alpha 1;
#X obj 14 122 alpha 1;
#X obj 14 57 alpha 1;
#X obj 164 79 abs/grid-beat-strong;
#X obj 164 143 abs/grid-beat-soft;
#X obj 164 163 abs/grid-beat-soft;
#X obj 164 183 abs/grid-beat-soft;
#X obj 164 307 abs/grid-beat-soft;
#X obj 164 327 abs/grid-beat-soft;
#X obj 164 347 abs/grid-beat-soft;
#X obj 164 473 abs/grid-beat-soft;
#X obj 164 493 abs/grid-beat-soft;
#X obj 164 513 abs/grid-beat-soft;
#X obj 164 637 abs/grid-beat-soft;
#X obj 164 657 abs/grid-beat-soft;
#X obj 164 677 abs/grid-beat-soft;
#X obj 164 246 abs/grid-beat-strong;
#X obj 164 412 abs/grid-beat-strong;
#X obj 164 576 abs/grid-beat-strong;
#X obj 164 226 alpha 1;
#X obj 164 286 alpha 1;
#X obj 164 391 alpha 1;
#X obj 164 453 alpha 1;
#X obj 164 556 alpha 1;
#X obj 164 617 alpha 1;
#X obj 164 122 alpha 1;
#X obj 164 57 alpha 1;
#X obj 314 79 abs/grid-beat-strong;
#X obj 314 57 alpha 1;
#X obj 14 205 color 0 1 0 1;
#X obj 164 35 color 1 0 0 1;
#X obj 314 35 color 1 0 0 1;
#X obj 164 205 color 0 1 0 1;
#X obj 14 371 color 0 1 0 1;
#X obj 164 371 color 0 1 0 1;
#X obj 14 535 color 0 1 0 1;
#X obj 164 535 color 0 1 0 1.4;
#X obj 14 100 color 1 1 1 0.7;
#X obj 164 100 color 1 1 1 0.7;
#X obj 14 267 color 1 1 1 0.7;
#X obj 164 267 color 1 1 1 0.7;
#X obj 164 433 color 1 1 1 0.7;
#X obj 14 433 color 1 1 1 0.7;
#X obj 14 597 color 1 1 1 0.7;
#X obj 164 597 color 1 1 1 0.7;
#X obj 14 35 color 1 0 0 1;
#X connect 0 0 59 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 51 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 55 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 57 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 52 0;
#X connect 13 0 67 0;
#X connect 14 0 61 0;
#X connect 15 0 64 0;
#X connect 16 0 65 0;
#X connect 17 0 14 0;
#X connect 18 0 4 0;
#X connect 19 0 15 0;
#X connect 20 0 7 0;
#X connect 21 0 16 0;
#X connect 22 0 10 0;
#X connect 23 0 1 0;
#X connect 24 0 0 0;
#X connect 25 0 60 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 28 0 54 0;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 31 0 56 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 34 0 58 0;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 37 0 53 0;
#X connect 38 0 62 0;
#X connect 39 0 63 0;
#X connect 40 0 66 0;
#X connect 41 0 38 0;
#X connect 42 0 29 0;
#X connect 43 0 39 0;
#X connect 44 0 32 0;
#X connect 45 0 40 0;
#X connect 46 0 35 0;
#X connect 47 0 26 0;
#X connect 48 0 25 0;
#X connect 50 0 49 0;
#X connect 51 0 17 0;
#X connect 52 0 48 0;
#X connect 53 0 50 0;
#X connect 54 0 41 0;
#X connect 55 0 19 0;
#X connect 56 0 43 0;
#X connect 57 0 21 0;
#X connect 58 0 45 0;
#X connect 59 0 23 0;
#X connect 60 0 47 0;
#X connect 61 0 18 0;
#X connect 62 0 42 0;
#X connect 63 0 44 0;
#X connect 64 0 20 0;
#X connect 65 0 22 0;
#X connect 66 0 46 0;
#X connect 67 0 24 0;
#X restore 359 194 pd grid;
#X obj 357 14 loadbang;
#X obj 357 35 delay 500;
#N canvas 507 329 286 456 current-step 0;
#X obj 61 281 * 0.5;
#X obj 36 328 translateXYZ 0.75 0 0;
#X obj 79 166 * 1.2;
#X obj 61 303 * 1.2;
#X obj 79 190 - 19.5;
#X obj 36 211 translateXYZ -19.5 0 0;
#X obj 36 400 rectangle 0.75 3;
#X obj 61 237 loadbang;
#X obj 66 39 r current_step;
#X obj 56 84 mod 4;
#X msg 61 259 4;
#X obj 56 105 sel 0;
#X obj 66 60 t f f;
#X obj 99 142 f;
#X obj 36 17 gemhead 51;
#X obj 36 376 alpha 0;
#X obj 36 349 color 0.2 0.2 0.2 0.8;
#X connect 0 0 3 0;
#X connect 1 0 16 0;
#X connect 2 0 4 0;
#X connect 3 0 1 1;
#X connect 3 0 6 1;
#X connect 4 0 5 1;
#X connect 5 0 1 0;
#X connect 7 0 10 0;
#X connect 8 0 12 0;
#X connect 9 0 11 0;
#X connect 10 0 0 0;
#X connect 11 0 13 0;
#X connect 12 0 9 0;
#X connect 12 1 13 1;
#X connect 13 0 2 0;
#X connect 14 0 5 0;
#X connect 15 0 6 0;
#X connect 16 0 15 0;
#X restore 359 216 pd current-step;
#X obj 15 13 r reset-analysis;
#X obj 649 15 r reset-slaves;
#X msg 15 38 \; master-chord-fill-0 C 100 1 \; master-chord-fill-1
C 100 1 \; master-chord-fill-2 C 100 1 \; master-chord-fill-3 C 100
1 \; master-chord-fill-4 C 100 1 \; master-chord-fill-5 C 100 1 \;
master-chord-fill-6 C 100 1 \; master-chord-fill-7 C 100 1 \; slave-chord-pos-0
100 \; slave-chord-pos-1 100 \; slave-chord-pos-2 100 \; slave-chord-pos-3
100 \; slave-chord-pos-4 100 \; slave-chord-pos-5 100 \; slave-chord-pos-6
100 \; slave-chord-pos-7 100 \; slave-chord-pos-8 100 \; slave-chord-pos-9
100 \; slave-chord-pos-10 100 \; slave-chord-pos-11 100 \; slave-chord-pos-12
100 \; slave-chord-pos-13 100 \; slave-chord-pos-14 100 \; slave-chord-pos-15
100 \; slave-chord-pos-16 100 \; slave-chord-pos-17 100 \; slave-chord-pos-18
100 \; slave-chord-pos-19 100 \; slave-chord-pos-20 100 \; slave-chord-pos-21
100 \; slave-chord-pos-22 100 \; slave-chord-pos-23 100 \; slave-chord-pos-24
100 \; slave-chord-pos-25 100 \; slave-chord-pos-26 100 \; slave-chord-pos-27
100 \; slave-chord-pos-28 100 \; slave-chord-pos-29 100 \; slave-chord-pos-30
100 \; slave-chord-pos-31 100 \;;
#X msg 649 40 \; slave-chord-pos-0 100 \; slave-chord-pos-1 100 \;
slave-chord-pos-2 100 \; slave-chord-pos-3 100 \; slave-chord-pos-4
100 \; slave-chord-pos-5 100 \; slave-chord-pos-6 100 \; slave-chord-pos-7
100 \; slave-chord-pos-8 100 \; slave-chord-pos-9 100 \; slave-chord-pos-10
100 \; slave-chord-pos-11 100 \; slave-chord-pos-12 100 \; slave-chord-pos-13
100 \; slave-chord-pos-14 100 \; slave-chord-pos-15 100 \; slave-chord-pos-16
100 \; slave-chord-pos-17 100 \; slave-chord-pos-18 100 \; slave-chord-pos-19
100 \; slave-chord-pos-20 100 \; slave-chord-pos-21 100 \; slave-chord-pos-22
100 \; slave-chord-pos-23 100 \; slave-chord-pos-24 100 \; slave-chord-pos-25
100 \; slave-chord-pos-26 100 \; slave-chord-pos-27 100 \; slave-chord-pos-28
100 \; slave-chord-pos-29 100 \; slave-chord-pos-30 100 \; slave-chord-pos-31
100 \;;
#X obj 201 14 abs/slave-chord-event 0;
#X msg 357 58 reset \, dimen 800 150 \, title Shuttle \, create \,
1;
#X obj 358 238 abs/master-chord-event 0;
#X obj 357 103 gemwin 20;
#X obj 359 172 translateXYZ -19.5 0 0;
#X obj 359 130 gemhead 50;
#X obj 358 378 abs/master-chord-event 7;
#X obj 358 258 abs/master-chord-event 1;
#X obj 358 278 abs/master-chord-event 2;
#X obj 358 298 abs/master-chord-event 3;
#X obj 358 318 abs/master-chord-event 4;
#X obj 358 338 abs/master-chord-event 5;
#X obj 358 358 abs/master-chord-event 6;
#X obj 201 374 abs/slave-chord-event 18;
#X obj 201 414 abs/slave-chord-event 20;
#X obj 201 634 abs/slave-chord-event 31;
#X obj 201 254 abs/slave-chord-event 12;
#X obj 201 34 abs/slave-chord-event 1;
#X obj 201 434 abs/slave-chord-event 21;
#X obj 201 454 abs/slave-chord-event 22;
#X obj 201 394 abs/slave-chord-event 19;
#X obj 201 194 abs/slave-chord-event 9;
#X obj 201 214 abs/slave-chord-event 10;
#X obj 201 234 abs/slave-chord-event 11;
#X obj 201 274 abs/slave-chord-event 13;
#X obj 201 294 abs/slave-chord-event 14;
#X obj 201 314 abs/slave-chord-event 15;
#X obj 201 334 abs/slave-chord-event 16;
#X obj 201 354 abs/slave-chord-event 17;
#X obj 201 114 abs/slave-chord-event 5;
#X obj 201 94 abs/slave-chord-event 4;
#X obj 201 134 abs/slave-chord-event 6;
#X obj 201 154 abs/slave-chord-event 7;
#X obj 201 54 abs/slave-chord-event 2;
#X obj 201 74 abs/slave-chord-event 3;
#X obj 201 174 abs/slave-chord-event 8;
#X obj 201 474 abs/slave-chord-event 23;
#X obj 201 494 abs/slave-chord-event 24;
#X obj 201 514 abs/slave-chord-event 25;
#X obj 201 534 abs/slave-chord-event 26;
#X obj 201 554 abs/slave-chord-event 27;
#X obj 201 574 abs/slave-chord-event 28;
#X obj 201 594 abs/slave-chord-event 29;
#X obj 201 614 abs/slave-chord-event 30;
#X connect 0 0 13 0;
#X connect 1 0 14 1;
#X connect 3 0 4 0;
#X connect 4 0 11 0;
#X connect 6 0 8 0;
#X connect 7 0 9 0;
#X connect 11 0 13 0;
#X connect 14 0 2 0;
#X connect 15 0 14 0;
#X restore 217 62 pd master-visualization;
#N canvas 413 209 382 569 legato-visualization 0;
#X obj 96 344 f 0;
#X obj 126 344 + 1;
#X obj 81 390 s;
#X obj 111 272 r density;
#X msg 111 319 0;
#X obj 69 209 tabread new-onsets;
#X obj 140 319 s reset-slaves;
#X obj 69 229 pack;
#X obj 69 250 route 1;
#X obj 111 295 t b b;
#X obj 50 77 until;
#X obj 79 166 + 1;
#X obj 50 165 f 0;
#X obj 65 98 r reset-slaves;
#X msg 65 143 0;
#X obj 75 119 r reset-analysis;
#X msg 50 55 32;
#X obj 69 272 t f b;
#X obj 50 10 r density;
#X obj 96 366 makefilename slave-chord-pos-%d;
#X obj 24 251 sel 31;
#X obj 50 188 t f f f;
#X obj 50 33 delay 1;
#X obj 24 420 s update-legato;
#X connect 0 0 1 0;
#X connect 0 0 19 0;
#X connect 1 0 0 1;
#X connect 3 0 9 0;
#X connect 4 0 0 1;
#X connect 5 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 17 0;
#X connect 9 0 4 0;
#X connect 9 1 6 0;
#X connect 10 0 12 0;
#X connect 11 0 12 1;
#X connect 12 0 11 0;
#X connect 12 0 21 0;
#X connect 13 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 14 0;
#X connect 16 0 10 0;
#X connect 17 0 2 0;
#X connect 17 1 0 0;
#X connect 18 0 22 0;
#X connect 19 0 2 1;
#X connect 20 0 23 0;
#X connect 21 0 20 0;
#X connect 21 1 5 0;
#X connect 21 2 7 1;
#X connect 22 0 16 0;
#X restore 217 103 pd legato-visualization;
#N canvas 10 23 603 751 event-visualization 0;
#X obj 302 726 s;
#X obj 20 131 until;
#X obj 49 155 + 1;
#X obj 20 154 f 0;
#X obj 301 45 t b b;
#X obj 317 704 makefilename slave-chord-dur-%d;
#X obj 194 191 tabread slave-pattern;
#X msg 65 131 0;
#X obj 360 469 + 1;
#X obj 331 469 f 1;
#X msg 342 442 1;
#X obj 296 491 f;
#X obj 232 290 -;
#X obj 194 254 t f f f f;
#X msg 194 212 2 \$1;
#X obj 194 234 pow;
#X msg 328 191 10;
#X obj 331 291 sel 0.5;
#X obj 269 410 t b b;
#X obj 211 313 pack;
#X obj 269 371 sel2 2 0;
#X obj 342 370 sel -8;
#X obj 200 370 sel2 1 0.5;
#X obj 136 370 sel2 1 -1;
#X obj 67 370 sel2 2 1.5;
#X obj 131 296 moses 0;
#X obj 67 348 spigot;
#X obj 20 110 f 33;
#X obj 247 536 list;
#X obj 20 370 sel 32;
#X obj 278 588 list length;
#X obj 307 634 + 1;
#X obj 278 633 f 0;
#X msg 364 586 0;
#X obj 247 559 t l l b;
#X obj 278 610 until;
#X obj 245 701 packel;
#X obj 278 680 + 1;
#X obj 278 658 t b f f;
#X obj 245 657 list;
#X obj 338 516 add2list prepend;
#X obj 301 23 r update-legato;
#X obj 20 89 del 10;
#X connect 1 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 2 0;
#X connect 3 0 6 0;
#X connect 3 0 29 0;
#X connect 4 0 42 0;
#X connect 4 1 7 0;
#X connect 4 1 16 0;
#X connect 4 1 40 1;
#X connect 5 0 0 1;
#X connect 6 0 14 0;
#X connect 7 0 3 1;
#X connect 8 0 9 1;
#X connect 9 0 8 0;
#X connect 9 0 11 1;
#X connect 10 0 9 0;
#X connect 11 0 40 0;
#X connect 12 0 19 1;
#X connect 12 0 21 0;
#X connect 13 0 25 0;
#X connect 13 1 19 0;
#X connect 13 1 17 0;
#X connect 13 2 12 1;
#X connect 13 3 12 0;
#X connect 14 0 15 0;
#X connect 15 0 13 0;
#X connect 16 0 12 1;
#X connect 17 0 9 0;
#X connect 18 0 10 0;
#X connect 18 1 11 0;
#X connect 19 0 20 0;
#X connect 19 0 22 0;
#X connect 19 0 23 0;
#X connect 19 0 26 0;
#X connect 20 0 18 0;
#X connect 21 0 10 0;
#X connect 22 0 18 0;
#X connect 23 0 18 0;
#X connect 24 0 18 0;
#X connect 25 1 26 1;
#X connect 26 0 24 0;
#X connect 27 0 1 0;
#X connect 28 0 34 0;
#X connect 29 0 28 0;
#X connect 30 0 35 0;
#X connect 31 0 32 1;
#X connect 32 0 31 0;
#X connect 32 0 38 0;
#X connect 33 0 32 1;
#X connect 34 0 30 0;
#X connect 34 1 39 1;
#X connect 34 2 33 0;
#X connect 35 0 32 0;
#X connect 36 0 0 0;
#X connect 37 0 36 1;
#X connect 38 0 39 0;
#X connect 38 1 37 0;
#X connect 38 2 5 0;
#X connect 39 0 36 0;
#X connect 40 0 28 1;
#X connect 41 0 4 0;
#X connect 42 0 27 0;
#X restore 217 82 pd event-visualization;
#X text 8 452 bass duration;
#X text 9 303 Pd-Extended 0.43;
#X obj 460 129 loadbang;
#X obj 460 221 f \$0;
#X obj 466 241 list;
#X obj 460 202 t b a;
#X msg 460 161 House Harmonic Filler;
#X obj 460 183 zexy/list2symbol;
#N canvas 486 123 478 312 data-visualisation 0;
#N canvas 789 423 334 157 line 0;
#X obj 32 11 struct line float pos float color;
#X obj 35 43 drawpolygon color 1 pos 20 pos 150;
#X restore 9 81 pd line;
#N canvas 412 113 719 445 grid-generator 0;
#X obj 390 194 pointer;
#X obj 371 92 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 111 40 33;
#X obj 44 154 * 25;
#X msg 410 134 \; pd-data clear;
#X msg 390 172 traverse pd-data \, bang;
#X obj 111 63 forloop 0;
#X obj 46 184 + 25;
#X obj 119 129 mod 4;
#X obj 84 300 append line pos color;
#X obj 119 151 sel 0;
#X obj 153 179 t b;
#X obj 111 86 t f f f;
#X obj 202 152 sel 0;
#X msg 201 189 900;
#X obj 202 130 mod 16;
#X msg 315 315 25;
#X obj 371 111 t b b b b;
#X obj 315 348 append beat x;
#X msg 157 210 333;
#X msg 118 188 666;
#X connect 0 0 18 1;
#X connect 0 0 9 2;
#X connect 1 0 17 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 12 0;
#X connect 7 0 9 0;
#X connect 8 0 10 0;
#X connect 10 0 20 0;
#X connect 10 1 11 0;
#X connect 11 0 19 0;
#X connect 12 0 3 0;
#X connect 12 1 15 0;
#X connect 12 2 8 0;
#X connect 13 0 14 0;
#X connect 14 0 9 1;
#X connect 15 0 13 0;
#X connect 16 0 18 0;
#X connect 17 0 16 0;
#X connect 17 1 2 0;
#X connect 17 2 5 0;
#X connect 17 3 4 0;
#X connect 19 0 9 1;
#X connect 20 0 9 1;
#X restore 9 54 pd grid-generator;
#N canvas 789 423 334 157 beat 0;
#X obj 6 11 struct beat float x;
#X obj 7 55 drawpolygon 222 2 0 150 100 150;
#X obj 7 35 drawpolygon 222 2 0 20 100 20;
#X restore 9 111 pd beat;
#X obj 268 186 pointer;
#X msg 268 164 traverse pd-data \, next;
#X obj 211 209 set beat x;
#X obj 211 98 r current_step;
#X obj 211 120 div 4;
#X obj 211 141 change;
#X obj 211 186 + 25;
#X obj 211 164 * 100;
#X connect 3 0 5 1;
#X connect 4 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 9 0;
#X restore 390 389 pd data-visualisation;
#X obj 216 20 declare -stdpath unauthorized -path abs -stdpath pd-symbolic
;
#X msg 466 262 \; \$1-title label \$2 \; \$1-title label_pos 5 15 \;
\$1-title label_font 24 24 \; \$1-title vis_size 800 470 \; \$1-title
color 11 13;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 3 0 1 0;
#X connect 11 0 12 0;
#X connect 28 0 32 0;
#X connect 29 0 30 0;
#X connect 30 0 36 0;
#X connect 31 0 29 0;
#X connect 31 1 30 1;
#X connect 32 0 33 0;
#X connect 33 0 31 0;
#X restore 734 -1 pd patch;
#X obj -4 -1 cnv 15 800 470 empty \$0-title House Harmonic Filler 5
15 0 24 -128992 -258699 0;
#X obj -1 34 r playlist;
#X obj -1 281 s file-by-name;
#X obj -4 32 cnv 15 250 266 empty empty SHUTTLE 5 12 0 20 -128992 -228856
0;
#X obj 145 88 bng 24 250 50 0 load_midi_file set-load_midi_file load
1 -10 1 12 -66577 -258113 -228856;
#X obj 145 131 bng 24 250 50 0 reload set-reload reload -5 -9 1 12
-66577 -258113 -228856;
#X obj 171 147 bng 8 250 50 0 learn-reload --- empty 17 7 0 10 -262144
-1 -1;
#X obj 145 205 bng 24 250 50 0 scroll-up set-scroll-up up 5 -10 1 12
-66577 -258113 -228856;
#X obj 171 221 bng 8 250 50 0 learn-scrollup --- empty 17 7 0 10 -262144
-1 -1;
#X obj 145 248 bng 24 250 50 0 scroll-down set-scroll-down down -2
-10 1 12 -66577 -258113 -228856;
#X obj 171 264 bng 8 250 50 0 learn-scrolldown --- empty 17 7 0 10
-262144 -1 -1;
#X obj 207 32 cnv 15 250 5 empty empty HARMONY 5 12 0 20 -128992 -228856
0;
#X obj 215 89 vsl 24 180 1 32 0 1 raw-density set-density density -8
-12 1 12 -66577 -258113 -228856 577 1;
#X obj 241 264 bng 8 250 50 0 learn-density --- empty 17 7 0 10 -262144
-1 -1;
#X obj 258 89 vsl 24 180 1 34 0 1 raw-legato set-legato legato -6 -12
1 12 -66577 -258113 -228856 16815 0;
#X obj 301 89 vsl 24 180 0 1 0 0 raw-activity set-activity activity
-8 -12 1 12 -66577 -258113 -228856 0 1;
#X obj 344 89 vsl 24 180 -6 6 0 0 raw-register set-register register
-9 -12 1 12 -66577 -258113 -228856 8950 1;
#X obj 387 89 vsl 24 180 0 3.9 0 0 raw-range set-range range -5 -12
1 12 -66577 -258113 -228856 0 1;
#X obj 284 264 bng 8 250 50 0 learn-legato --- empty 17 7 0 10 -262144
-1 -1;
#X obj 327 264 bng 8 250 50 0 learn-activity --- empty 17 7 0 10 -262144
-1 -1;
#X obj 413 264 bng 8 250 50 0 learn-range --- empty 17 7 0 10 -262144
-1 -1;
#X obj 370 264 bng 8 250 50 0 learn-register --- empty 17 7 0 10 -262144
-1 -1;
#X obj 448 32 cnv 15 100 20 empty empty BASS 5 12 0 20 -128992 -228856
0;
#X obj 462 89 vsl 24 180 0 1 0 0 bass-density set-bass-density density
-8 -12 1 12 -66577 -258113 -228856 0 1;
#X obj 505 89 vsl 24 180 0.2 1 0 0 bass-duration set-bass-duration
length -5 -12 1 12 -66577 -258113 -228856 17900 1;
#X obj 548 89 vsl 24 180 5 0.125 0 0 bass-velocity set-bass-velocity
accents -10 -12 1 12 -66577 -258113 -228856 0 1;
#X obj 591 200 vradio 24 1 0 3 bass-octave set-bass-octave octave -6
-12 1 12 -66577 -258113 -228856 1;
#X obj 488 264 bng 8 250 50 0 learn-bass-density --- empty 17 7 0 10
-262144 -1 -1;
#X obj 531 264 bng 8 250 50 0 learn-bass-duration --- empty 17 7 0
10 -262144 -1 -1;
#X obj 575 264 bng 8 250 50 0 learn-bass-accents --- empty 17 7 0 10
-262144 -1 -1;
#X obj 617 264 bng 8 250 50 0 learn-bass-octave --- empty 17 7 0 10
-262144 -1 -1;
#X obj 718 224 tgl 48 0 play set-play play 0 -12 1 12 -66577 -258113
-228856 0 1;
#X obj 718 175 tgl 24 0 clock-mode set-clock-mode int-sync -12 -12
1 12 -66577 -258113 -228856 1 1;
#X obj 768 264 bng 8 250 50 0 learn-play --- empty 17 7 0 10 -262144
-1 -1;
#X obj 665 89 vsl 24 180 40 239 0 0 tempo set-tempo tempo -6 -12 1
12 -66577 -258113 -228856 7646 1;
#X obj 691 264 bng 8 250 50 0 learn-tempo --- empty 17 7 0 10 -262144
-1 -1;
#X obj 648 32 cnv 15 100 20 empty empty TRANSPORT 5 12 0 20 -128992
-228856 0;
#N canvas 0 22 959 334 data 0;
#X scalar beat 325 \;;
#X scalar line 25 900 \;;
#X scalar line 50 333 \;;
#X scalar line 75 333 \;;
#X scalar line 100 333 \;;
#X scalar line 125 666 \;;
#X scalar line 150 333 \;;
#X scalar line 175 333 \;;
#X scalar line 200 333 \;;
#X scalar line 225 666 \;;
#X scalar line 250 333 \;;
#X scalar line 275 333 \;;
#X scalar line 300 333 \;;
#X scalar line 325 666 \;;
#X scalar line 350 333 \;;
#X scalar line 375 333 \;;
#X scalar line 400 333 \;;
#X scalar line 425 900 \;;
#X scalar line 450 333 \;;
#X scalar line 475 333 \;;
#X scalar line 500 333 \;;
#X scalar line 525 666 \;;
#X scalar line 550 333 \;;
#X scalar line 575 333 \;;
#X scalar line 600 333 \;;
#X scalar line 625 666 \;;
#X scalar line 650 333 \;;
#X scalar line 675 333 \;;
#X scalar line 700 333 \;;
#X scalar line 725 666 \;;
#X scalar line 750 333 \;;
#X scalar line 775 333 \;;
#X scalar line 800 333 \;;
#X scalar line 825 900 \;;
#X coords 0 0 850 170 800 170 2 0 0;
#X restore -4 300 pd data;
#X obj -1 51 playlist mid 140 240 {Helvetica 12 normal} #999999 grey
black red;
#X connect 2 0 39 0;
#X connect 39 0 3 0;
